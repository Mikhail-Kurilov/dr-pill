(this["webpackJsonpdr-pill"]=this["webpackJsonpdr-pill"]||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){},28:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},31:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){"use strict";s.r(t);var i=s(0),n=s(1),a=s.n(n),c=s(19),r=s.n(c),o=(s(26),s(4)),l=s(5),h=s(10),u=s(9),d=s(13),m=s(2),j=(s(27),s(28),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"Header",children:[Object(i.jsxs)("ul",{className:"Menu",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/",children:"Home"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/game",children:"Game"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/result",children:"Top chart"})})]}),Object(i.jsx)("img",{src:"/logo.png",alt:"logo",className:"Logo",width:"280px",height:"100px"})]})}}]),s}(a.a.Component)),f=(s(29),s(6)),b=Object(f.a)(),g=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(i.jsx)("div",{className:"Footer",children:Object(i.jsx)("table",{className:"table_columns",children:Object(i.jsx)("tbody",{children:Object(i.jsxs)("tr",{children:[Object(i.jsxs)("th",{children:[" ",Object(i.jsx)("p",{className:"description",children:"Dr. Pill is the leading interactive entertainment game for people all around the world helping to fight the virus breakdown. We have developed the game for the first time, offering it to enjoy to everyone around the world."})]}),Object(i.jsxs)("th",{className:"links",children:[Object(i.jsxs)("ul",{className:"block",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/",children:"Home"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/Mikhail-Kurilov",children:"Github_1"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://github.com/Chukana",children:"Github_2"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://app.rs.school/",children:"RSSchool"})})]}),Object(i.jsxs)("ul",{className:"block",children:[Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://www.king.com/game/candycrush",children:"Candy Crash"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/game",children:"Game"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"/result",children:"Top chart"})}),Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"https://en.wikipedia.org/wiki/Super_Mario",children:"Super Mario"})})]})]}),Object(i.jsx)("th",{children:Object(i.jsx)("p",{className:"description right",children:"2021   All rights reserved "})})]})})})})}}]),s}(a.a.Component),p=(s(30),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(o.a)(this,s),(i=t.call(this,e)).state={audioPic:"/icons8-mute-50.png"},i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.getElementById("audio").src="/audio/start.mp3"}},{key:"playPauseAudioHandler",value:function(){var e=document.getElementById("audio");e.paused?(e.play(),this.setState({audioPic:"/icons8-mute-50.png"})):(e.pause(),this.setState({audioPic:"/icons8-sound-50.png"}))}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{className:"Home",children:[Object(i.jsx)("br",{}),Object(i.jsxs)("div",{className:"instruction",children:[" ",Object(i.jsx)("p",{children:"\u041c\u0438\u0440 \u043f\u043e\u0440\u0430\u0437\u0438\u043b\u0430 \u0443\u0436\u0430\u0441\u043d\u0430\u044f \u043f\u0430\u043d\u0434\u0435\u043c\u0438\u044f! \u0422\u043e\u043b\u044c\u043a\u043e \u0412\u0430\u043c \u043f\u043e\u0434 \u0441\u0438\u043b\u0443 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0441\u043f\u0430\u0441\u0435\u0442 \u044d\u0442\u0438\u0442 \u043c\u0438\u0440! \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438 \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u043f\u0430\u0440\u0430\u0442\u043e\u0432 \u0438 \u043d\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0438\u043c \u043a\u043e\u043b\u0431\u044b. \u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0432\u0440\u0435\u043c\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e, \u0430 \u0432\u0438\u0440\u0443\u0441 \u0440\u0430\u0441\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u043c\u043e\u043b\u043d\u0438\u0435\u043d\u043e\u0441\u043d\u043e \u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u0441\u0442\u0432\u0443 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0430\u043a\u0446\u0438\u043d\u044b. \u0423 \u0412\u0430\u0441 \u0435\u0441\u0442\u044c \u0440\u043e\u0432\u043d\u043e 60 \u0441\u0435\u043a\u0443\u043d\u0434 \u043d\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 1 \u043a\u043e\u043b\u0431\u044b. \u041a\u0430\u0436\u0434\u0430\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043a\u043e\u043b\u0431\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0431\u041e\u043b\u044c\u0448\u0435\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0438\u043b\u044e\u043b\u044c! \u0423\u0434\u0430\u0447\u0438, \u0434\u0440\u0443\u0433!"}),Object(i.jsx)("br",{})]}),Object(i.jsxs)("form",{className:"top",children:[Object(i.jsx)("button",{className:"glow-on-hover",onClick:function(){return b.push("/game")},children:"Play Now!!!"}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{}),Object(i.jsx)("span",{}),Object(i.jsx)("span",{}),Object(i.jsx)("span",{})]}),Object(i.jsx)("img",{id:"drPill",src:"/dr-pill-removebg-clear.png",alt:"Dr. Pill"}),Object(i.jsx)("button",{className:"glow-on-hover music",onClick:function(){return e.playPauseAudioHandler()},children:Object(i.jsx)("img",{id:"sound",src:this.state.audioPic,width:"30px",height:"30px",className:""})}),Object(i.jsx)("audio",{id:"audio",autoPlay:!0,loop:!0})]})}}]),s}(a.a.Component)),v=(s(31),function(){function e(t){var s=this,i=t.id,n=t.callbacks;Object(o.a)(this,e),this.canvas=document.getElementById(i),this.context=this.canvas.getContext("2d"),this.canvas.width=560,this.canvas.height=560,this.canvas.addEventListener("click",(function(e){return s.clickCell(e)})),this.canvas.addEventListener("mousemove",(function(e){return s.moveCell(e)})),this.canvas.addEventListener("mouseup",(function(){return s.upCell()})),this.canvas.addEventListener("mousedown",(function(e){return s.downCell(e)})),this.ADD_PILLS=10,this.FIELD_SIZE=8,this.ROUND_TIME=60,this.SIZE=70,this.callbacks=n,this.field=[],this.sec=0,this.interval=null,this.currentPills=0,this.requirePills=20,this.vaccineScore=0,this.firstStep=!0,this.x=-1,this.y=-1,this.isDrug=null,this.drugX=-1,this.drugY=-1,this.booms=[],this.boomImages=[],this.boomImages.push(new Image),this.boomImages[0].src="/img/1.png",this.boomImages.push(new Image),this.boomImages[1].src="/img/2.png",this.boomImages.push(new Image),this.boomImages[2].src="/img/3.png",this.boomImages.push(new Image),this.boomImages[3].src="/img/4.png",this.boomImages.push(new Image),this.boomImages[4].src="/img/5.png",this.boomImages.push(new Image),this.boomImages[5].src="/img/6.png",this.boomImages.push(new Image),this.boomImages[6].src="/img/7.png",this.boomImages.push(new Image),this.boomImages[7].src="/img/8.png",this.boomImages.push(new Image),this.boomImages[8].src="/img/9.png",this.boomImages.push(new Image),this.boomImages[9].src="/img/10.png",this.boomImages.push(new Image),this.boomImages[10].src="/img/11.png",this.pills=[null],this.pills.push(new Image),this.pills[1].src="/img/pill_1.png",this.pills[1].onload=function(){s.pills.push(new Image),s.pills[2].src="/img/pill_2.png",s.pills[2].onload=function(){s.pills.push(new Image),s.pills[3].src="/img/pill_5.png",s.pills[3].onload=function(){s.pills.push(new Image),s.pills[4].src="/img/pill_8.png",s.pills[4].onload=function(){s.pills.push(new Image),s.pills[5].src="/img/pill_10.png",s.pills[5].onload=function(){return s.render()}}}}};for(var a=0;a<this.FIELD_SIZE;a++){this.field.push([]);for(var c=0;c<this.FIELD_SIZE;c++)this.field[a][c]=1+Math.floor(5*Math.random())}}return Object(l.a)(e,[{key:"startTimeUpdate",value:function(){var e=this;this.interval&&(this.sec=0,clearInterval(this.interval)),this.interval=setInterval((function(){if(e.sec++,e.sec>=e.ROUND_TIME)return clearInterval(e.interval),void e.callbacks.endGame(e.vaccineScore);e.callbacks.timeTick(e.ROUND_TIME-e.sec)}),1e3)}},{key:"move",value:function(e,t,s,i){if(e===s&&1===Math.abs(t-i)||1===Math.abs(e-s)&&t===i){var n=this.field[e][t];return this.field[e][t]=this.field[s][i],this.field[s][i]=n,this.firstStep&&(this.firstStep=!1,this.startTimeUpdate()),this.render(),this.getStatus(),!0}return!1}},{key:"moveCell",value:function(e){if(this.isDrug&&this.drugX>=0&&this.drugY>=0&&(this.render(),this.field[this.drugX][this.drugY])){this.context.drawImage(this.pills[this.field[this.drugX][this.drugY]],e.offsetX-this.SIZE/2,e.offsetY-this.SIZE/2,this.SIZE,this.SIZE);var t=Math.floor(e.offsetX/this.SIZE),s=Math.floor(e.offsetY/this.SIZE);1===Math.abs(t+s-(this.drugX+this.drugY))&&(this.move(this.drugX,this.drugY,t,s),this.upCell())}}},{key:"upCell",value:function(){this.isDrug=!1,this.drugX=-1,this.drugY=-1}},{key:"downCell",value:function(e){this.isDrug=!0,this.drugX=Math.floor(e.offsetX/this.SIZE),this.drugY=Math.floor(e.offsetY/this.SIZE)}},{key:"clickCell",value:function(e){if(this.x>=0&&this.y>=0){var t=Math.floor(e.offsetX/this.SIZE),s=Math.floor(e.offsetY/this.SIZE);this.move(this.x,this.y,t,s),this.x=-1,this.y=-1}else this.x=Math.floor(e.offsetX/this.SIZE),this.y=Math.floor(e.offsetY/this.SIZE)}},{key:"dropOneCell",value:function(e,t){if(0===t)this.field[e][t]=1+Math.floor(5*Math.random());else for(var s=t;s>=0;s--)void 0!==this.field[e][s-1]?(this.field[e][s]=this.field[e][s-1],this.field[e][s-1]=0):this.field[e][s]=1+Math.floor(5*Math.random())}},{key:"dropElements",value:function(){for(var e=0;e<this.FIELD_SIZE;e++)for(var t=0;t<this.FIELD_SIZE;t++)0===this.field[t][e]&&(this.dropOneCell(t,e),this.render())}},{key:"getStatus",value:function(){for(var e=this,t=0,s=0,i=0;i<this.FIELD_SIZE;i++){t=0,s=0;for(var n=0;n<this.FIELD_SIZE;n++)t&&t===s&&s===this.field[i][n]?(this.field[i][n]=0,this.field[i][n-1]=0,this.field[i][n-2]=0,this.booms.push({i:i,j:n,currentImage:-1}),this.booms.push({i:i,j:n-1,currentImage:-1}),this.booms.push({i:i,j:n-2,currentImage:-1}),setTimeout((function(){return e.dropElements()}),1500),this.render(),this.callbacks.addPills(3)):t&&t===s&&s!==this.field[i][n]?(t=this.field[i][n],s=0):t&&t===this.field[i][n]?s=this.field[i][n]:t=this.field[i][n]}for(var a=0;a<this.FIELD_SIZE;a++){t=0,s=0;for(var c=0;c<this.FIELD_SIZE;c++)t&&t===s&&s===this.field[c][a]?(this.field[c][a]=0,this.field[c-1][a]=0,this.field[c-2][a]=0,this.booms.push({i:c,j:a,currentImage:-1}),this.booms.push({i:c-1,j:a,currentImage:-1}),this.booms.push({i:c-2,j:a,currentImage:-1}),setTimeout((function(){return e.dropElements()}),1500),this.render(),this.callbacks.addPills(3)):t&&t===s&&s!==this.field[c][a]?(t=this.field[c][a],s=0):t&&t===this.field[c][a]?s=this.field[c][a]:t=this.field[c][a]}}},{key:"restartTime",value:function(){this.startTimeUpdate()}},{key:"clear",value:function(){for(var e=0;e<6;e++)for(var t=0;t<6;t++)this.context.fillStyle="rgb(\n            ".concat(Math.floor(255-42.5*e),",\n            ").concat(Math.floor(255-42.5*t),",\n            0)"),this.context.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:"render",value:function(){var e=this;this.clear();for(var t=0;t<this.field.length;t++)for(var s=0;s<this.field.length;s++)if(this.field[t][s]){if(this.drugX===t&&this.drugY===s)continue;this.context.drawImage(this.pills[this.field[t][s]],t*this.SIZE,s*this.SIZE,this.SIZE,this.SIZE)}else this.context.fillRect(t*this.SIZE,s*this.SIZE,this.SIZE,this.SIZE);for(var i=!1,n=this.booms.length-1;n>=0;n--){var a=this.booms[n];if(a)if(a.currentImage++,a.currentImage>=this.boomImages.length)this.booms.splice(n,1);else{var c=a.i,r=a.j;this.context.drawImage(this.boomImages[a.currentImage],c*this.SIZE,r*this.SIZE,this.SIZE,this.SIZE),i=!0}}i&&setTimeout((function(){return e.render()}),125)}}]),e}()),O=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(o.a)(this,s),(i=t.call(this,e)).game=null,i.state={sec:60,score:0,points:0,maxPoints:20,audioPic:"/icons8-mute-50.png"},i}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.game=new v({id:"canvas",callbacks:{endGame:function(t){e.setState({score:t})},timeTick:function(t){e.setState({sec:t})},addPills:function(t){e.state.points+t>=e.state.maxPoints?(e.setState({points:0,maxPoints:e.state.maxPoints+10,score:e.state.score+1,sec:60}),e.game.restartTime()):e.setState({points:e.state.points+t})}}});var t=["/audio/game1.mp3","/audio/game2.mp3"];document.getElementById("audio").src=t[Math.floor(Math.random(t.length)+.5)]}},{key:"playPauseAudioHandler",value:function(){var e=document.getElementById("audio");e.paused?(e.play(),this.setState({audioPic:"/icons8-mute-50.png"})):(e.pause(),this.setState({audioPic:"/icons8-sound-50.png"}))}},{key:"render",value:function(){var e=this;return this.state.sec<=1?Object(i.jsx)(m.a,{to:{pathname:"/result",state:{score:this.state.score}}}):Object(i.jsxs)("div",{className:"Game",children:[Object(i.jsxs)("div",{className:"statistics",children:[Object(i.jsxs)("div",{children:["\u043a\u043e\u043b\u0431\u044b: ",this.state.score]}),Object(i.jsxs)("div",{children:["\u0432\u0440\u0435\u043c\u0435\u0447\u043a\u043e: ",this.state.sec]}),Object(i.jsxs)("div",{children:["\u043f\u0438\u043b\u044e\u043b\u0438: ",this.state.points,"/",this.state.maxPoints]}),Object(i.jsx)("button",{className:"glow-on-hover music",onClick:function(){return e.playPauseAudioHandler()},children:Object(i.jsx)("img",{src:this.state.audioPic,width:"30px",height:"30px",className:""})})]}),Object(i.jsx)("canvas",{id:"canvas"}),Object(i.jsx)("audio",{id:"audio",autoPlay:!0,loop:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("form",{children:Object(i.jsxs)("div",{className:"backForward",children:[Object(i.jsx)("button",{className:"glow-on-hover",onClick:function(){return b.push("/")},children:"Home page"}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{className:"glow-on-hover",onClick:function(){return b.push("/result")},children:"Results"})]})})]})}}]),s}(a.a.Component),x=(s(37),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i,n,a;Object(o.a)(this,s),(a=t.call(this,e)).score=null===(i=e.location)||void 0===i||null===(n=i.state)||void 0===n?void 0:n.score,a.results=localStorage.getItem("results"),a.results?a.results=JSON.parse(a.results):(a.results=[{nickname:"Misha",score:128},{nickname:"Nadya",score:64},{nickname:"Alexey",score:32},{nickname:"Vladimir",score:16},{nickname:"Navalny",score:12},{nickname:"Cesar",score:10},{nickname:"August",score:8},{nickname:"Napoleon",score:6},{nickname:"Ivan Grozny",score:4},{nickname:"Vasya Pupkin",score:2}],a.updateLocalStorage());for(var c=0;c<a.results.length;c++)if(a.results[c].score<=a.score){a.results.splice(c,0,{nickname:"noname",score:a.score}),a.results.pop(),a.updateLocalStorage();break}return a}return Object(l.a)(s,[{key:"updateLocalStorage",value:function(){localStorage.setItem("results",JSON.stringify(this.results))}},{key:"componentDidMount",value:function(){document.getElementById("audio").src="/audio/game-over.mp3"}},{key:"updateResults",value:function(e,t){e.target.innerHTML&&t>=0&&(this.results[t].nickname=e.target.innerHTML,this.updateLocalStorage())}},{key:"render",value:function(){var e=this;return Object(i.jsxs)("div",{className:"Result",children:[Object(i.jsx)("h2",{className:"text",children:"Result"}),Object(i.jsx)("br",{}),this.results.map((function(t,s){return Object(i.jsxs)("div",{className:"result-score",children:["noname"===t.nickname?Object(i.jsx)("div",{contenteditable:"true",onKeyUp:function(t){return e.updateResults(t,s)},children:"Enter Your Name"}):t.nickname,"\xa0score:",t.score]},s)})),Object(i.jsx)("br",{}),Object(i.jsx)("form",{children:Object(i.jsx)("button",{className:"glow-on-hover",onClick:function(){return b.push("/game")},children:"go to Game"})}),Object(i.jsx)("audio",{id:"audio",autoPlay:!0,loop:!0})]})}}]),s}(a.a.Component)),I=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){return Object(o.a)(this,s),t.call(this,e)}return Object(l.a)(s,[{key:"render",value:function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(j,{}),Object(i.jsx)(d.a,{history:b,children:Object(i.jsxs)(m.d,{children:[Object(i.jsx)(m.b,{exact:!0,path:"/",component:p}),Object(i.jsx)(m.b,{path:"/game",component:O}),Object(i.jsx)(m.b,{path:"/result",component:x})]})}),Object(i.jsx)(g,{})]})}}]),s}(a.a.Component),k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,39)).then((function(t){var s=t.getCLS,i=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),i(e),n(e),a(e),c(e)}))};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(I,{})}),document.getElementById("root")),k()}},[[38,1,2]]]);
//# sourceMappingURL=main.26716489.chunk.js.map